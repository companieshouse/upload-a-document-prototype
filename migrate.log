2023-12-01T08:08:48.883Z
cwd: ~/Documents/GitHub/upload-a-document-prototype
package: govuk-prototype-kit@13.15.3
argv: /usr/local/bin/node ~/.npm/_npx/751a68202a4807b7/node_modules/.bin/govuk-prototype-kit migrate
Started [Check migration is being applied to a pre v13 prototype]
Succeeded [Check migration is being applied to a pre v13 prototype]
2023-12-01T08:09:07.733Z
cwd: ~/Documents/GitHub/upload-a-document-prototype
package: govuk-prototype-kit@13.15.3
argv: /usr/local/bin/node ~/Documents/GitHub/upload-a-document-prototype/node_modules/.bin/govuk-prototype-kit migrate -- ~/Documents/GitHub/upload-a-document-prototype
Started [Migrate config.js to config.json]
Started [Update application SCSS file]
Started [Deleted files that are no longer needed]
Started [Deleted directories that are no longer needed]
Started [Delete listen-on-port.js]
Started [Delete server.js]
Started [Delete start.js]
Started [Delete gulpfile.js]
Started [Delete VERSION.txt]
Started [Delete Procfile]
Started [Delete app/assets/sass/application-ie8.scss]
Started [Remove unused directory gulp]
Started [Remove unused directory lib]
Succeeded [Migrate config.js to config.json]
Succeeded [Delete listen-on-port.js]
Succeeded [Delete server.js]
Succeeded [Delete start.js]
Succeeded [Delete gulpfile.js]
Succeeded [Delete app/assets/sass/application-ie8.scss]
Succeeded [Delete VERSION.txt]
Succeeded [Delete Procfile]
Succeeded [Deleted files that are no longer needed]
Found [// Add your routes here - above the module.exports line] in [app/routes.js], replacing
Started [Overwrite app/filters.js]
Started [Overwrite app/assets/javascripts/application.js]
Started [Overwrite app/views/layout.html]
Keeping these lines from old file
Started [Delete app/assets/images/separator-2x.png]
Started [Update app/assets/javascripts/application.js]
Started [Delete app/assets/javascripts/auto-store-data.js]
Started [Delete app/assets/images/unbranded.ico]
Started [Delete app/views/includes/head.html]
Failed [Overwrite app/views/layout.html]
Started [Delete app/views/includes/cookie-banner.html]
Started [Delete app/assets/sass/patterns/_related-items.scss]
Started [Delete app/views/includes/scripts.html]
Found [// Add extra styles here, or re-organise the Sass files in whichever way makes most sense to you] in [app/assets/sass/application.scss], replacing
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/filters.js] to [app/filters.js]
Started [Delete app/assets/images/separator.png]
Started [Delete app/assets/javascripts/jquery-1.11.3.js]
Started [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Started [Delete app/assets/sass/patterns/_task-list.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Failed [Delete app/views/includes/head.html]
Keeping these lines from old file
Succeeded [Remove unused directory gulp]
Succeeded [Delete app/assets/images/separator-2x.png]
Succeeded [Delete app/assets/images/unbranded.ico]
Succeeded [Delete app/assets/javascripts/auto-store-data.js]
Succeeded [Delete app/assets/sass/patterns/_related-items.scss]
Succeeded [Delete app/views/includes/scripts.html]
Succeeded [Delete app/assets/images/separator.png]
Succeeded [Delete app/views/includes/cookie-banner.html]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Succeeded [Delete app/assets/javascripts/jquery-1.11.3.js]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Succeeded [Delete app/assets/sass/patterns/_task-list.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Succeeded [Update application SCSS file]
//,// For guidance on how to create routes see:,// https://prototype-kit.service.gov.uk/docs/create-routes,//,,const govukPrototypeKit = require('govuk-prototype-kit'),const router = govukPrototypeKit.requests.setupRouter(),,// Add your routes here,,router.get('/', function (req, res) {,  req.session.destroy(),  res.render('index', {,  }),}),,// Authentication,router.get('upload-documents', function (req, res) {,  res.render('upload-documents', {,  }),}),,router.post('/upload-documents', function (req, res) {,  var errors = [],  if (req.session.data['authNumber'] === '') {,    errors.push({,      text: 'Enter the company authentication code',,      href: '#auth-number',    }),    res.render('upload-documents', {,      errorAuth: true,,      errorList: errors,    }),  } if (req.session.data['formType'] === 'SH19 - Statement of capital when reducing capital in a company') {,    res.redirect('sh19-delivery'),  } else {,    res.redirect('check'),  },}),,// SH19 Delivery,router.get('sh19-delivery', function (req, res) {,  res.render('sh19-delivery', {,  }),}),,router.post('/sh19-delivery', function (req, res) {,  var errors = [],  if (typeof req.session.data['delivery'] === 'undefined') {,    errors.push({,      text: 'Select the service you require',,      href: '#delivery',    }),    res.render('sh19-delivery', {,      errorDelivery: true,,      errorList: errors,    }),  } else {,    res.redirect('check'),  },}),,router.get('/check', function (req, res) {,  res.render('check', {,    company: req.session.company,,    companyIncorp: req.session.companyIncorp,  }),}),,router.get('/confirmation', function (req, res) {,  res.render('confirmation', {,    company: req.session.company,,    companyIncorp: req.session.companyIncorp,  }),}),,module.exports = router,
Succeeded [Update app/assets/javascripts/application.js]
Found [module.exports = router;,module.exports = router] in [app/routes.js], removing
Succeeded [Overwrite app/assets/javascripts/application.js]
Succeeded [Remove unused directory lib]
Succeeded [Update routes file]
Succeeded [Deleted directories that are no longer needed]
Succeeded [Overwrite app/filters.js]
Started [Remove old pattern includes from application SCSS file]
Succeeded [Remove old pattern includes from application SCSS file]
Started [Remove empty directory app/assets/sass/patterns]
Started [Remove empty directory app/assets/images]
Started [Remove empty directory app/views/includes]
Skipped deleting app/views/includes
Skipped deleting app/assets/images
Succeeded [Remove empty directory app/assets/sass/patterns]
